<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test031.html</title>

<style type="text/css">
*
{
	background-color: #fadee1;	
	font-weight: bold;
	font-family: 맑은 고딕;
}
</style>

<script type="text/javascript">
	function selectTest()
	{
		//확인
		//alert("함수 호출 확인~!!!");
		
		
		//첫 번째 방법
		/*
		var position = document.getElementById("userPosition").value;
		
		//확인
		//alert(position); → vfr(사원)
		*/
		
		
		//두 번째 방법
		/*
		var positionObj = document.getElementById("userPosition");
		var positionOptions = positionObj.options;
		var positionMsg = "";
		
		//확인
		//alert(positionOptions); 
		//→ [object HTMLOptionsCollection] 자바스크립트배열
		
		//alert(positionOptions.length);
		//→ 4
		
		for (var i=0; i<positionOptions.length; i++)
		{
			//확인(직원)
			//alert(positionOptions[i].selected);
			//true or false
			
			if (positionOptions[i].selected)
			{
				//단일 선택일 때 
				//positionMsg = positionOptions[i].value;
				//break;
				
				//다중 선택
				positionMsg = positionOptions[i].value + " ";
				
			}
			//포지션이 선택되어 있을 때, 그 값을 받아오겠다
		}
		
		//확인
		//alert(positionMsg);
		*/
		
		//세 번째 방법
		/*
		var positionObj = document.getElementById("userPosition");
		
		//확인
		//alert(positionObj.selectedIndex);
		//--> 부장 0, 과장 1, 대리 2, 사원 3
		
		//확인
		//alert(positionObj.options[2].value);
		//-->cde(대리)
		
		var positionMsg = positionObj.options[positionObj.selectedIndex].value
		alert(positionMsg);
		*/
	}
	
	function addMember()
	{
		//확인
		//alert("함수 호출 확인~!!!");
		var uName = document.getElementById("userName").value;
		var uSsn = document.getElementById("userSsn").value;
		
		//var uCity = document.getElementById("userCity").value;
		var cityObj = document.getElementById("userCity");
		
		//alert(cityObj.selectIndex);
		//--> 서울 0, 대전 1, 광주 2, 대구 3
		
		var uCity = cityObj.options[cityObj.selectedIndex].value;
		//alert(uCity);
		//--> 1123(서울), 2380(대전)...
		
		var depObj = document.getElementById("userDepartment");
		var uDep = depObj.options[depObj.selectedIndex].value;
		//alert(uDep);
		
		var pos = document.getElementById("userPosition");
		var uPos = pos.options[pos.selectedIndex].value;
		//alert(uPos);
		// 오타 있어서 오타 수정(ㅅㅂ 이것땜에 개고생함)
		//~ 확인 완료.
		
		var basicpay = document.getElementById("userBasicPay").value;
		//alert(basicpay);
		
		
		//테이블 그리기
		var tableNode = document.getElementById("memberList"); // table → tableNode
		var trNode = document.createElement("tr"); //getElementById → createElement
		
		trNode.appendChild(createTdNode(uName));
		trNode.appendChild(createTdNode(uSsn));
		trNode.appendChild(createTdNode(uCity));
		trNode.appendChild(createTdNode(uDep));
		trNode.appendChild(createTdNode(uPos));
		trNode.appendChild(createTdNode(basicpay));
		
		tableNode.appendChild(trNode);
		
		//formClear();
		// 정보 다 입력하고 나면, 폼 클리어
		document.forms[0].reset();
		
		// 폼 클리어 후 이름으로 포커싱 맞추기
		document.getElementById("userName").focus();
	}
	//테이블 그리기 끝
	
	
	
	// TD 노드 추가 함수
	function createTdNode(val)
	{
		var textNode = document.createTextNode(val);
		var tdNode = document.createElement("td");
		
		tdNode.appendChild(textNode);
		
		return tdNode;
	}
</script>

</head>
<body>


<div>
	<h1>자바스크립트 활용</h1>
	<hr>
</div>


<div>
	<h2>선택목록(select) 다루기</h2>
	
	<form>
		<table>
			<tr>
				<td>이름</td>
				<td>
					<input type="text" id="userName">
				</td>
			</tr>
			<tr>
				<td>주민번호</td>
				<td>
					<input type="text" id="userSsn">
				</td>
			</tr>
			<tr>
				<td>지역</td>
				<td>
					<!-- <input type="text" id="userCity"> -->
					<select id="userCity">
						<option value="1123(서울)">서울</option>
						<option value="2380(대전)">대전</option>
						<option value="5567(광주)">광주</option>
						<option value="9984(대구)">대구</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>부서</td>
				<td>
					<!-- <input type="text" id="userDepartment"> -->
					<select id="userDepartment">
						<option value="9987(개발부)">개발부</option>
						<option value="9988(인사부)">인사부</option>
						<option value="9989(자재부)">자재부</option>
						<option value="9990(영업부)" selected="selected">영업부</option>
						<option value="9991(총무부)">총무부</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>직위</td>
				<td>
					<!-- <input type="text" id="userPosition"> -->
					<select id="userPosition">
						<option value="zaq(부장)">부장</option>
						<option value="xsw(과장)">과장</option>
						<option value="cde(대리)">대리</option>
						<option value="vfr(사원)" selected="selected">사원</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>기본급</td>
				<td>
					<input type="text" id="userBasicPay">
				</td>
			</tr>
		</table>
		<br><br>
		
		<!-- <input type="button" value="직원 추가" class="btn" onclick="selectTest()"> -->
		<input type="button" value="직원 추가" class="btn" onclick="addMember()">
		<input type="reset" value="입력 취소" class="btn">
		<br><br>
		
		<table id="memberList">
			<tr>
				<td>이름</td>
				<td>주민번호</td>
				<td>지역</td>
				<td>부서</td>
				<td>직위</td>
				<td>기본급</td>					
			</tr>
		</table>

</body>
</html>